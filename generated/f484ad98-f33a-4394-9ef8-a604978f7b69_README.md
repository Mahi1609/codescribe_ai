# üëã Welcome to f484ad98-f33a-4394-9ef8-a604978f7b69

üìÑ *This documentation was automatically generated by [CodeScribe AI] (https://github.com/Mahi1609/codescribe_ai.git)*

---

## üß† Overview

This project was auto-documented using CodeScribe AI.

---

## üîç What Does This Project Do?

This project is designed to perform its core functionality as described in the overview.


---

## üõ† Tech Stack Used

- **Detected Environment:** `generic`
- **Languages & Frameworks:**

  - Python

  - Node


---

## üì¶ Dependencies



### Python



### Node



---

## ‚öôÔ∏è Installation

To get started with this project:

```bash
## Clone the repository
git clone <your-repo-url>
cd f484ad98-f33a-4394-9ef8-a604978f7b69

## Install required packages

#### (Update this based on your environment)



---

## üß© Code File Summaries
### üìÑ `debug_ocr.py`

**Summary of debug_ocr.py**

**Main Purpose:** This Python script, `debug_ocr.py`, is designed to extract text from a PDF file and print the extracted text, page by page, for debugging purposes.

**Key Logic:**

* The script checks if a PDF file path is provided as a command-line argument. If not, it prints an error message and exits.
* If a PDF file path is provided, the script extracts the text from the PDF using the `extract_text_from_pdf` function and stores it in a dictionary.
* The script then prints the extracted text, page by page, with a maximum of 1000 characters per page. If the text is longer than 1000 characters, it appends an ellipsis (`"..."`).

**Technical Notes:**

* The script uses the `f` string notation for formatting print statements.
* The `if __name__ == "__main__":` block ensures the script only runs if executed directly.

**Functions and Classes:**

* `debug_ocr(pdf_path)`: The main function extracts text from a PDF file and prints the extracted text, page by page.
* `extract_text_from_pdf(pdf_path)`: This function is imported from the `ocr_handler` module and is responsible for extracting text from the PDF file.

This script provides a simple way to debug OCR issues by extracting and printing the text from a PDF file.


---

## üß© Code File Summaries
### üìÑ `main.py`

**Main Purpose:**
The `main.py` file is a Python script that extracts invoice fields from a PDF file using Optical Character Recognition (OCR) and a Large Language Model (LLM) called Ollama. The script takes a PDF file as input, extracts text, preprocesses the text, and then uses the LLM to generate structured invoice fields. The output is saved as a JSON file.

**Functions and Classes:**

* `main(pdf_path)`: The main entry point of the script, which takes a PDF file path as input and orchestrates the entire process.
* `extract_text_from_pdf(pdf_path)`: Extracts text from a PDF file using OCR.
* `generate_invoice_fields(cleaned_text)`: Generates structured invoice fields using the Ollama LLM.
* `clean_ocr_text(text)`: Preprocesses the extracted text to prepare it for the LLM.

**Key Logic:**

1. Normalize input PDF file path for cross-platform compatibility.
2. Extract text from PDF file using OCR and combine text for multi-page PDFs.
3. Print debug preview of extracted text and preprocess it using `clean_ocr_text`.
4. Send preprocessed text to Ollama LLM to generate structured invoice fields.
5. Print extracted invoice fields and save output as a JSON file.

**Technical Highlights:**

* Uses `os` and `sys` modules for file path manipulation and command-line argument handling.
* Utilizes `json` module to serialize and deserialize output JSON file.
* Demonstrates use of local LLM (Ollama) for text processing and generation of structured invoice fields.

This script provides a comprehensive solution for extracting invoice fields from PDF files using OCR and a Large Language Model. It's a useful tool for automating data extraction tasks and can be easily integrated into larger applications.


---

## üß© Code File Summaries
### üìÑ `llm/ollama_parser.py`

Here is a clear and concise summary of the `ollama_parser.py` file:

**Main Purpose:**
The `ollama_parser.py` file is a text parsing utility that extracts structured information from invoice texts and returns the results in JSON format using a Large Language Model (LLM).

**Functions and Classes:**

* `generate_invoice_fields(text)`: This function takes an invoice text as input, generates invoice fields using an LLM, and returns the results in JSON format.

**Key Logic:**

* The function generates a prompt for the LLM, specifying the invoice text and fields to extract.
* It sends the prompt to the LLM, retrieves the response, and extracts relevant fields.
* If the response is not in JSON format, it returns default values for each field.
* The function returns a tuple containing the extracted JSON data and a raw output message.

**Technical Notes:**

* The LLM enhances parsing accuracy and efficiency.
* The function uses `requests` to send a POST request to a local API and `json` to parse the response.
* The function returns a tuple with extracted JSON data and a raw output message for debugging purposes.

This summary provides a clear understanding of the file's purpose, key functions, and technical details, making it easy for developers to quickly grasp the code's functionality.


---

## üß© Code File Summaries
### üìÑ `ocr/ocr_handler.py`

Here is a clear and concise summary of the `ocr_handler.py` file:

**Summary:**
The `ocr_handler.py` file is a Python script that uses Optical Character Recognition (OCR) technology to extract text from scanned PDF files. It provides a function to extract text from each page of a PDF file, returning a dictionary with page numbers as keys and extracted text as values.

**Key Functionality:**

* The `extract_text_from_pdf` function takes a PDF file path as input and returns a dictionary of extracted text from each page.
* The function uses the `fitz` library to open and manipulate PDF files, and the `pytesseract` library to extract text from images.
* The script iterates through each page of the PDF file, converts the page to a high-resolution image, and uses OCR to extract text from the image.
* The extracted text is stored in a dictionary with page numbers as keys and text as values.

**Technical Notes:**

* The script uses a high DPI (300) for better OCR accuracy.
* The `Image.frombytes` method is used to convert image data to a PIL Image object.
* The `strip()` method is used to remove trailing whitespace from extracted text.

**Benefits:**
This script provides a simple and efficient way to extract text from scanned PDF files using OCR technology, making it a useful tool for developers working with PDF files.


---

## üß© Code File Summaries
### üìÑ `utils/text_cleaner.py`



